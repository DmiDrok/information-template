"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw c}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function setCorrectSlider(){var e=$(".task"),t=$(".slider__buttons .now"),n=$(".slider__buttons .all"),r=$(".slider"),o=$(".case__aside"),c=$(".case__content"),a=1;t.text(a),n.text(e.length),o.slick({arrows:!1,asNavFor:".case__content",speed:1e3,fade:!0,autoplay:!0,autoplaySpeed:2e3,draggable:!1,pauseOnHover:!0,pauseOnDotsHover:!0}),o.on("beforeChange",(function(e,n,r,o){a=o+1,t.text(a)})),$(".slider__prev").on("click",(function(){o.slick("slickPrev")})),$(".slider__next").on("click",(function(){o.slick("slickNext")})),c.slick({arrows:!1,asNavFor:".case__aside",speed:1e3,fade:!0,autoplay:!0,autoplaySpeed:2e3,draggable:!1,pauseOnHover:!0,pauseOnDotsHover:!0}),r.on("mouseover",(function(){o.slick("slickPause"),c.slick("slickPause")})),r.on("mouseout",(function(){o.slick("slickPlay"),c.slick("slickPlay")}))}function setCorrectScroll(){if(window.matchMedia("(min-width: 1024px)").matches){$.scrollify.enable();var e=$(".dot");e.on("click",(function(e){e.preventDefault(),$.scrollify.move($(this).attr("href"))})),$.scrollify({section:".section",scrollSpeed:1100,setHeights:!0,interstitialSection:".footer",before:function(t,n){e.removeClass("active"),t>=e.length?$(e[e.length-1]).addClass("active"):$(e[t]).addClass("active")},afterRender:function(){}})}else $.scrollify.disable()}function setCorrectAccordeon(){var e=document.querySelector(".accordeon").querySelectorAll(".answer");function t(e,t){t||(t=e.querySelector(".answer-content")),e.classList.remove("active"),t.style.maxHeight="0px",$.scrollify.update()}e.forEach((function(n){n.addEventListener("click",(function(){e.forEach((function(e){e!==n&&t(e)})),function(e){var n=e.querySelector(".answer-content");e.classList.contains("active")?t(e,n):(e.classList.add("active"),n.style.maxHeight=n.scrollHeight+"px");$.scrollify.update()}(n)}))}))}function setCorrectAnchors(){document.querySelectorAll(".anchor").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href");if(window.matchMedia("(min-width: 720px)").matches)console.log(n),$.scrollify.move(n);else{var r=document.querySelector(n);window.scrollTo({top:r.getBoundingClientRect().y,behavior:"smooth"})}}))}))}function setCorrectEarthAnimation(){var e=document.querySelector(".header"),t=e.querySelector(".promo__image img.earth"),n=e.querySelector(".promo__image img.sputnik"),r=e.querySelector(".promo__image img.light"),o=e.querySelector(".promo__image img.stars"),c=null,a=null;document.body.addEventListener("mousemove",(function(e){console.log("here"),c=e.clientX,a=e.clientY,t.style.transform="translate(".concat(c/20,"px, ").concat(a/15,"px)"),n.style.transform="translate(".concat(c/30,"px, ").concat(a/20,"px)"),r.style.transform="translate(".concat(c/30,"px, ").concat(a/20,"px)"),o.style.transform="translate(".concat(c/70,"px, ").concat(a/50,"px)")}),{passive:!0})}function setCorrectDotsOnMobiles(){if(window.matchMedia("(max-width: 720px)").matches){var e=function(e){t.forEach((function(e){return e.classList.remove("active")})),t[e].classList.add("active")},t=document.querySelectorAll(".dot"),n=document.querySelectorAll(".section"),r=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var r=Array.from(n).indexOf(t.target);e(r)}}))}),{threshold:1});n.forEach((function(e){r.observe(e)}))}}function setCorrectQuiz(){var e=document.querySelector(".quiz-start__activate"),t=document.querySelector(".quiz"),n=t.querySelector(".quiz .content"),r=t.querySelector(".quiz__close");function o(e){e.target.closest(".content")===n&&e.target!==r||(t.style.opacity=0,setTimeout((function(){t.style.zIndex=-1,t.classList.remove("active"),t.style="",document.body.classList.remove("unscroll")}),550))}e.addEventListener("click",(function(){t.classList.add("active"),document.body.classList.add("unscroll")})),t.addEventListener("click",o),r.addEventListener("click",o)}function setCorrectLogicQuiz(){var e=document.querySelector(".quiz-main__question .question-title"),t=document.querySelector(".quiz-main__answers"),n=t.getElementsByClassName("quiz-main__variant"),r=document.querySelector(".quiz-main__count"),o=r.querySelector(".quiz-main__now"),c=r.querySelector(".quiz-main__all"),a=document.querySelector(".question__next"),i={},s=0;function l(n){a.classList.remove("active");var r=questions[n].title,c=questions[n].answers,i="";for(key in e.textContent=r,c)i+='<li class="quiz-main__variant" data-value="'.concat(key,'">').concat(c[key],"</li>");t.innerHTML=i,o.textContent=s+1}function u(){r.hidden=!1,i={},l(s=0)}t.addEventListener("click",(function(o){if(o.stopPropagation(),!o.target.dataset.value)return;!function(o){var c,d=_createForOfIteratorHelper(n);try{for(d.s();!(c=d.n()).done;)otherAnswer=c.value,otherAnswer===o?o.classList.toggle("active"):otherAnswer.classList.remove("active")}catch(e){d.e(e)}finally{d.f()}o.classList.contains("active")?(a.classList.add("active"),a.dataset.value=o.dataset.value):(a.classList.remove("active"),a.dataset.value="");a.onclick=function(n){var o=n.target;if(o.classList.contains("active")){var c,d=o.dataset.value;i[d]?i[d]++:i[d]=1,s+1<questions.length?l(++s):(c=Object.keys(i).reduce((function(e,t){return i[e]>i[t]?e:t})),console.log(c),console.log(i),function(n){var o=n.isFinal,c=n.maxValueKey;o&&(r.hidden=!0,a.classList.remove("active"),e.textContent="Итоги тестирования",console.log(results[c],c),t.innerHTML='<p class="quiz-main__result">'+results[c].title+"</p>",t.innerHTML+='<button class="quiz-main__restart green-btn" type="button">Пройти ещё раз</button>',document.querySelector(".quiz-main__restart").onclick=u)}({isFinal:!0,maxValueKey:c}))}}}(o.target)})),c.textContent=questions.length,l(s)}function applyAll(){setCorrectSlider(),setCorrectAccordeon(),setCorrectAnchors(),setCorrectEarthAnimation(),setCorrectScroll(),setCorrectDotsOnMobiles(),setCorrectQuiz(),setCorrectLogicQuiz()}document.addEventListener("DOMContentLoaded",(function(){try{applyAll(),window.addEventListener("resize",(function(){setCorrectScroll(),setCorrectDotsOnMobiles()}))}catch(e){console.error(e)}})),console.log=function(){},console.error=function(){},console.warn=function(){};